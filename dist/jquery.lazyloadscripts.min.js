/**
 * NOTICE OF LICENSE
 *
 * Copyright (c) 2018 Rico Dang. All rights reserved.
 * This work is licensed under the terms of the MIT license.
 * For a copy, see <https://opensource.org/licenses/MIT>.
 *
 * @author     Rico Dang <rico@pgml.de>
 * @copyright  2018 Rico Dang
 * @version    0.2.1
 * @date       09/08/2018
 */
!function(n){n.fn.lazyLoadScripts=function(t){function o(t){if(!t.is(":hidden")){var o=n(window).scrollTop(),c=o+n(window).height(),e=t.offset().top;return e+t.height()>=o-i.offset&&e<=c+i.offset}}var i=n.extend({offset:0,onWatch:function(){},onSuccess:function(){},onAllDone:function(){},onFail:function(n){}},t),c=this.map(function(t,o){if(n(o).data("lazy-load-scripts"))return{elem:o,inDom:!1,scriptSrc:n(o).data("lazy-load-scripts")}});return i.onWatch.call(c),n(window).on({scroll:function(){c.each(function(t,e){if(!e.inDom&&o(n(e.elem))){var r="string"==typeof e.scriptSrc?[e.scriptSrc]:e.scriptSrc,a=n.map(r,function(t){return n.getScript(t,i.onSuccess)});n.when.apply(n,a).done(i.onAllDone).fail(i.onFail),c[t].inDom=!0,n(e.elem).removeAttr("data-lazy-load-scripts"),i.onWatch(c)}})}}),this}}(jQuery);